<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Copy Text</title>
  <style>
    :root {
      --border-color: transparent;
      --btn-bg: #f2f2f2;
      --btn-bg-hover: #e6e6e6;
      --btn-border: #cfcfcf;
      --text-color: #222;
      --muted-color: #666;
    }

    body {
      font-family: "Segoe UI", Tahoma, sans-serif;
      color: var(--text-color);
      margin: 24px;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      max-width: 900px;
    }

    td {
      border: 1px solid var(--border-color);
      padding: 8px 10px;
      vertical-align: top;
    }

    td.col-action {
      width: 90px;
      white-space: nowrap;
    }

    td.col-name {
      width: 180px;
    }

    td.col-text {
      color: var(--muted-color);
      word-break: break-word;
    }

    .copy-btn {
      padding: 6px 10px;
      border: 1px solid var(--btn-border);
      background: var(--btn-bg);
      border-radius: 4px;
      cursor: pointer;
    }

    .copy-btn:hover {
      background: var(--btn-bg-hover);
    }

    .copied {
      font-weight: 700;
    }
  </style>
</head>
<body>
  <table id="items-table" aria-label="Copy items"></table>

  <script>
    // Items configuration. Add/edit/remove by changing these lines.
    const items = [];
    function item(name, text) {
      items.push({ name, text });
    }

    item('address', 'street, building');
    item('name', 'John');
    item('age', '28');

    const table = document.getElementById('items-table');

    function clearCopiedStyles() {
      const nameCells = table.querySelectorAll('td.col-name');
      nameCells.forEach((cell) => cell.classList.remove('copied'));
    }

    function copyText(text, nameCell) {
      navigator.clipboard.writeText(text).then(() => {
        clearCopiedStyles();
        nameCell.classList.add('copied');
      });
    }

    function render() {
      table.innerHTML = '';
      items.forEach((row) => {
        const tr = document.createElement('tr');

        const tdAction = document.createElement('td');
        tdAction.className = 'col-action';
        const btn = document.createElement('button');
        btn.className = 'copy-btn';
        btn.type = 'button';
        btn.textContent = 'copy';
        tdAction.appendChild(btn);

        const tdName = document.createElement('td');
        tdName.className = 'col-name';
        tdName.textContent = row.name;

        const tdText = document.createElement('td');
        tdText.className = 'col-text';
        tdText.textContent = row.text;

        btn.addEventListener('click', () => copyText(row.text, tdName));

        tr.appendChild(tdAction);
        tr.appendChild(tdName);
        tr.appendChild(tdText);
        table.appendChild(tr);
      });
    }

    render();
  </script>
</body>
</html>
